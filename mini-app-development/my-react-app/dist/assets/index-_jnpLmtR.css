:root{--bg: #ffffff;--fg: #000000;--border: #dcdcdc;--bot-bg: #f0f0f0;--user-bg: #0088cc;--accent: #0088cc;--input-bg: #f8f8f8}html[theme=dark]{--bg: #0f0f0f;--fg: #eaeaea;--border: #333;--bot-bg: #1e1e1e;--user-bg: #007aff;--accent: #007aff;--input-bg: #1a1a1a}*{box-sizing:border-box;font-family:system-ui,sans-serif}body{margin:0;background:var(--bg);color:var(--fg)}button,input{font:inherit}.app{height:100vh;display:flex;flex-direction:column;padding:12px;gap:8px}.top{display:flex;justify-content:space-between;align-items:center}.top h1{margin:0;font-size:1.05rem}.stats{font-size:.9rem;opacity:.7}.role-bar{display:flex;gap:6px;flex-wrap:wrap;justify-content:center}.role-bar button{background:var(--bot-bg);color:var(--fg);border:1px solid var(--border);padding:4px 10px;border-radius:8px;cursor:pointer;font-size:.85rem;transition:.2s}.role-bar button.active{background:var(--accent);color:#fff;border-color:var(--accent)}.role-bar button:disabled{opacity:.5;cursor:default}.chat{flex:1;overflow-y:auto;border:1px solid var(--border);border-radius:12px;padding:12px;display:flex;flex-direction:column;gap:10px;background:var(--bg);scroll-behavior:smooth}.msg{max-width:80%;padding:10px 14px;border-radius:16px;font-size:.95rem;line-height:1.4;word-break:break-word}.msg.bot{align-self:flex-start;background:var(--bot-bg);color:var(--fg);border-bottom-left-radius:4px}.msg.user{align-self:flex-end;background:var(--user-bg);color:#fff;border-bottom-right-radius:4px}.msg.typing{display:inline-block;width:48px;height:20px;position:relative}.msg.typing span,.msg.typing span:before,.msg.typing span:after{content:"";position:absolute;top:50%;left:50%;width:6px;height:6px;border-radius:50%;background:var(--fg);animation:blink 1.2s infinite}.msg.typing span{margin-left:-10px}.msg.typing span:before{margin-left:-18px;animation-delay:-.4s}.msg.typing span:after{margin-left:-2px;animation-delay:-.8s}@keyframes blink{0%,80%,to{opacity:.2}40%{opacity:1}}.input-bar{display:flex;gap:8px}.input-bar input{flex:1;padding:10px;border:1px solid var(--border);border-radius:10px;background:var(--input-bg);color:var(--fg)}.input-bar button{padding:0 16px;background:var(--accent);color:#fff;border:none;border-radius:10px;cursor:pointer;font-weight:700}.input-bar button:disabled{opacity:.5;cursor:default}.bottom{display:flex;gap:8px;justify-content:center}.bottom button{background:var(--bot-bg);border:1px solid var(--border);color:var(--fg);padding:6px 12px;border-radius:8px;cursor:pointer;font-size:.85rem}.bottom button:hover{background:var(--accent);color:#fff;border-color:var(--accent)}
